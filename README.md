# Kluis OS 운영체제 설계 문서

## 🎯 개요
**Kluis OS**는 모든 애플리케이션을 가상머신(Kluis) 내에서 실행하는 혁신적인 운영체제입니다.  
보안보다는 **편의성을 최우선**으로 하며, 사용자에게 투명한 가상화 환경을 제공합니다.

---

## 🏗️ 핵심 아키텍처

### 호스트 시스템
- **기반 OS**: Arch Linux
- **데스크톱 환경**: KDE Plasma
- **디스플레이 서버**: Wayland
- **설치 도구**: Anaconda installer

### 가상화 환경
- **VM 엔진**: QEMU/KVM
- **VM 명칭**: Kluis
- **관리 도구**: Kluis Manager
- **실행 방식**: 모든 사용자 애플리케이션이 Kluis VM 내에서 실행

---

## ✨ 핵심 기능

### 1. 심리스 모드 (기본 활성화)
- VM과 호스트 간 경계가 보이지 않는 통합 환경
- 윈도우가 자연스럽게 호스트 데스크톱에 통합

### 2. 클립보드 공유
- **호스트 ↔ Kluis VM** 간 실시간 동기화
- **Kluis VM ↔ Kluis VM** 간 상호 공유

### 3. 파일 공유
- **호스트 ↔ Kluis VM** 간 파일시스템 공유
- **Kluis VM ↔ Kluis VM** 간 데이터 교환

### 4. 통합 실행 환경
- 호스트 데스크톱의 바로가기로 VM 내 프로그램 직접 실행
- 사용자는 VM 존재를 의식하지 않고 사용

---

## 🔧 시스템 구조

### 호스트 레벨
```
Kluis OS (Arch Linux 기반)
├── KDE Plasma (Wayland)
├── Kluis Manager (VM 관리 도구)
├── 최소한의 시스템 서비스
└── Kluis VM Runtime Environment
```

### VM 레벨
```
Kluis VM Instances
├── 사용자 애플리케이션들
├── Kluis Agent (호스트 통신 담당)
├── 공유 서비스 (클립보드, 파일시스템)
└── 경량화된 게스트 OS
```

---

## 🛠️ 주요 컴포넌트

### Kluis Manager
- VM 생성, 삭제, 관리
- 리소스 할당 및 제어
- 네트워크 설정 관리
- 스냅샷 및 백업 기능

### Kluis Agent
- 호스트-게스트 간 통신 브릿지
- 파일 및 클립보드 실시간 동기화
- 심리스 모드 구현
- 애플리케이션 바로가기 연동

### 통합 런처
- 호스트 데스크톱의 애플리케이션 아이콘
- VM 내 프로그램의 투명한 실행
- 윈도우 관리 시스템 통합

---

## 📦 설치 프로세스

### 1. 기본 시스템 설치
- Anaconda를 통한 Arch Linux 기반 설치
- KDE Plasma + Wayland 자동 구성

### 2. Kluis 환경 구성
- 가상화 도구 설치 (QEMU/KVM, libvirt)
- Kluis Manager 및 Agent 설치
- SPICE/VirtIO 드라이버 설정

### 3. 초기 설정
- 기본 Kluis VM 템플릿 생성
- 사용자 환경 초기화
- 애플리케이션 바로가기 설정

---

## 🎮 사용자 워크플로우

### 부팅 및 로그인
1. Kluis OS 부팅
2. KDE Plasma 로그인
3. Kluis Manager 자동 시작

### 애플리케이션 사용
1. 데스크톱 아이콘 클릭
2. 자동으로 적절한 Kluis VM에서 실행
3. 심리스 모드로 투명한 사용 경험

### 파일 및 데이터 작업
1. 호스트-VM 간 자동 파일 동기화
2. 클립보드 내용 실시간 공유
3. 여러 Kluis VM 간 데이터 교환

### 시스템 종료
1. 모든 VM 상태 자동 저장
2. 안전한 시스템 종료

---

## 🚀 편의성 중심 설계

### 투명성
- 사용자는 VM 존재를 의식하지 않음
- 기존 데스크톱과 동일한 사용 경험

### 자동화
- VM 리소스 자동 할당 및 관리
- 백그라운드에서 투명한 상태 관리

### 통합성
- 호스트와 VM 간 완전한 통합 환경
- 원클릭으로 모든 작업 수행

---

## 🔒 기본 보안 기능

### 격리
- 호스트 시스템과 애플리케이션 완전 분리
- VM 간 선택적 네트워크 격리

### 백업 및 복구
- 스냅샷 기반 즉시 롤백
- 자동 백업 시스템

### 제한된 호스트 접근
- 호스트에 직접 설치/실행 제한
- 모든 작업은 Kluis VM을 통해서만 수행
